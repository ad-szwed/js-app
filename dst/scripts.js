let pokemonRepository=function(){let t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=150";function a(t){r(t).then(function(){!function(t){let e=$(".modal-body"),a=$(".modal-title"),r=$(".modal-header");a.empty(),e.empty();let o=$("<h1>"+t.name+"</h1>").addClass("text-capitalize"),i=$('<img class="modal-img" style="width:50%">');i.attr("src",t.imageUrlFront).addClass("mx-auto d-block");let c=$("<p>Height: "+10*t.height+" cm</p>"),s=$("<p>Weight: "+t.weight/10+" kg</p>"),n=$("<p>Abilities: "+t.abilities.join(", ")+"</p>").addClass("text-capitalize");a.append(o),e.append(i),e.append(c),e.append(s),e.append(n),t.types.forEach(function(t){let a=document.createElement("img");switch(a.classList.add("type"),t.type.name){case"normal":a.setAttribute("src","img/Normal.png"),r.css("background-color","#9c9c63");break;case"water":a.setAttribute("src","img/Water.png"),r.css("background-color","#6890f0");break;case"electric":a.setAttribute("src","img/Electric.png"),r.css("background-color","#FFFF00");break;case"fighting":a.setAttribute("src","img/Fight.png"),r.css("background-color","#848484");break;case"ground":a.setAttribute("src","img/Ground.png"),r.css("background-color","#996736");break;case"psychic":a.setAttribute("src","img/Psychic.png"),r.css("background-color","#f0c91f");break;case"rock":a.setAttribute("src","img/Rock.png"),r.css("background-color","#dbb54d");break;case"dark":a.setAttribute("src","img/Dark.png"),r.css("background-color","#444a5c");break;case"steel":a.setAttribute("src","img/Steel.png"),r.css("background-color","#8c8f96");break;case"fire":a.setAttribute("src","img/Fire.png"),r.css("background-color","#f08030");break;case"grass":a.setAttribute("src","img/Grass.png"),r.css("background-color","#78c850");break;case"ice":a.setAttribute("src","img/Ice.png"),r.css("background-color","#42aeae");break;case"poison":a.setAttribute("src","img/Poison.png"),r.css("background-color","#a890f0");break;case"flying":a.setAttribute("src","img/Flying.png");break;case"bug":a.setAttribute("src","img/Bug.png"),r.css("background-color","a8b820");break;case"ghost":a.setAttribute("src","img/Ghost.png"),r.css("background-color","#644e88");break;case"dragon":a.setAttribute("src","img/Dragon.png");break;case"fairy":a.setAttribute("src","img/Fairy.png"),r.css("background-color","#e87890")}e.append(a)})}(t)})}function r(t){o();let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){t.imageUrlFront=e.sprites.other.dream_world.front_default,t.imageUrlAnimated=e.sprites.versions["generation-v"]["black-white"].animated.front_default,t.height=e.height,t.weight=e.weight,t.types=e.types,t.abilities=[],e.abilities.forEach(function(e){t.abilities.push(e.ability.name)})}).catch(function(t){console.error(t),i()})}function o(){$("<img />",{class:"loading",src:"img/pikachu.png",alt:"loading image"}).appendTo(".pokedex")}function i(){$(".loading").remove()}return{getAll:function(){return t},addListItem:function(t){pokemonRepository.loadDetails(t).then(function(){let e=$(".row").addClass("d-flex justify-content-center"),r=$('<div data-toggle="modal" data-target="#pokemon-info" style="width: 18rem;"></div>').addClass("card mt-3 mr-3 btn"),c=$('<img style="width: 35%;" "alt="animated pokemon">').attr("src",t.imageUrlAnimated).addClass("card-img-top mx-auto d-block"),s=$("<h5>"+t.name+"</h5>").addClass("card-title text-capitalize mx-auto d-block btn btn-info mb-1"),n=$("<div></div>").addClass("card-body");o(),e.append(r),n.append(c),r.append(n),r.append(s),i(),r.click(function(){a(t),i()})})},loadList:function(){return o(),fetch(e).then(function(t){return t.json()}).then(function(e){e.results.forEach(function(e){!function(e){"object"==typeof e&&t.push(e)}({name:e.name,detailsUrl:e.url})}),i()}).catch(function(t){console.error(t),i()})},loadDetails:r}}();function search(){let t=document.querySelector("#searchbar").value.toLowerCase(),e=document.querySelectorAll(".card");for(i=0;i<e.length;i++){e[i].innerText.toLowerCase().indexOf(t)>-1?e[i].style.display="":e[i].style.display="none"}}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});